{"version":3,"sources":["webpack:///./src/views/ReportInput.vue?948b","webpack:///./src/views/ReportInput.vue?ab80","webpack:///src/views/ReportInput.vue","webpack:///./src/views/ReportInput.vue?2284","webpack:///./src/views/ReportInput.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","back","slot","_v","_s","$route","query","title","toggleTimePopup","model","value","callback","$$v","startTime","expression","endTime","_l","item","index","key","tools","length","onToolbar","staticStyle","onPush","show","onDatePickerConfirm","currentDate","staticRenderFns","component"],"mappings":"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","file":"js/reportInput.cd4589e0.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportInput.vue?vue&type=style&index=0&id=b7f8affa&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportInput.vue?vue&type=style&index=0&id=b7f8affa&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('van-nav-bar',{staticClass:\"bg-purple\",attrs:{\"border\":true}},[_c('div',{staticClass:\"router-back\",attrs:{\"slot\":\"left\"},on:{\"click\":function($event){return _vm.$router.back()}},slot:\"left\"},[_c('van-icon',{attrs:{\"color\":\"white\",\"name\":\"arrow-left\"}})],1),_c('div',{staticClass:\"flex-row justify-center align-center text-white\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\" \"+_vm._s(_vm.$route.query.title||'')+\"查询 \")])]),_c('div',{staticClass:\"font14 flex-column justify-center r-input-content\"},[_c('div',{staticClass:\"flex-row justify-center p_y5 time-input\"},[_c('div',{staticClass:\"line40 p_r10\"},[_vm._v(\"开始时间\")]),_c('div',[_c('van-field',{staticClass:\"field-border-d radius5 p_y5\",attrs:{\"readonly\":\"\",\"placeholder\":\"开始时间\"},on:{\"click\":function($event){return _vm.toggleTimePopup(true,'startTime')}},model:{value:(_vm.startTime),callback:function ($$v) {_vm.startTime=$$v},expression:\"startTime\"}})],1)]),_c('div',{staticClass:\"flex-row justify-center p_y5 time-input\"},[_c('div',{staticClass:\"line40 p_r10\"},[_vm._v(\"结束时间\")]),_c('div',[_c('van-field',{staticClass:\"field-border-d radius5 p_y5\",attrs:{\"readonly\":\"\",\"placeholder\":\"结束时间\"},on:{\"click\":function($event){return _vm.toggleTimePopup(true,'endTime')}},model:{value:(_vm.endTime),callback:function ($$v) {_vm.endTime=$$v},expression:\"endTime\"}})],1)]),_c('van-row',{staticClass:\"p_x10 p_y25\"},_vm._l((_vm.tools),function(item,index){return _c('van-col',{key:index,staticClass:\"text-center tool-item\",attrs:{\"span\":24/_vm.tools.length}},[_c('van-button',{attrs:{\"type\":\"info\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onToolbar(item.value)}}},[_vm._v(_vm._s(item.title))])],1)}),1),_c('div',{staticClass:\"flex-row justify-center p_t10\"},[_c('van-button',{staticStyle:{\"width\":\"50%\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.onPush}},[_vm._v(\"确定\")])],1)],1),_c('van-popup',{staticClass:\"time-popup\",attrs:{\"position\":\"bottom\"},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('van-datetime-picker',{attrs:{\"show-toolbar\":true,\"type\":\"date\"},on:{\"cancel\":function($event){return _vm.toggleTimePopup(false)},\"confirm\":_vm.onDatePickerConfirm},model:{value:(_vm.currentDate),callback:function ($$v) {_vm.currentDate=$$v},expression:\"currentDate\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <van-nav-bar\r\n                class=\"bg-purple\"\r\n                :border=\"true\"\r\n        >\r\n            <div class=\"router-back\" @click=\"$router.back()\" slot=\"left\">\r\n                <van-icon color=\"white\" name=\"arrow-left\"/>\r\n            </div>\r\n            <div slot=\"title\" class=\"flex-row justify-center align-center text-white\">\r\n                {{$route.query.title||''}}查询\r\n            </div>\r\n        </van-nav-bar>\r\n        <div class=\"font14 flex-column justify-center r-input-content\">\r\n            <div class=\"flex-row justify-center p_y5 time-input\">\r\n                <div class=\"line40 p_r10\">开始时间</div>\r\n                <div>\r\n                    <van-field @click=\"toggleTimePopup(true,'startTime')\" readonly class=\"field-border-d radius5 p_y5\"\r\n                               v-model=\"startTime\" placeholder=\"开始时间\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"flex-row justify-center p_y5 time-input\">\r\n                <div class=\"line40 p_r10\">结束时间</div>\r\n                <div>\r\n                    <van-field @click=\"toggleTimePopup(true,'endTime')\" readonly class=\"field-border-d radius5 p_y5\"\r\n                               v-model=\"endTime\" placeholder=\"结束时间\"/>\r\n                </div>\r\n            </div>\r\n            <van-row class=\"p_x10 p_y25\">\r\n                <van-col class=\"text-center tool-item\" :span=\"24/tools.length\" :key=\"index\"\r\n                         v-for=\"(item,index) of tools\">\r\n                    <van-button @click=\"onToolbar(item.value)\" type=\"info\" size=\"mini\">{{item.title}}</van-button>\r\n                </van-col>\r\n            </van-row>\r\n\r\n            <div class=\"flex-row justify-center p_t10\">\r\n                <van-button @click=\"onPush\" type=\"primary\" size=\"small\" style=\"width:50%\">确定</van-button>\r\n            </div>\r\n        </div>\r\n        <!--时间选择器start-->\r\n        <van-popup\r\n                class=\"time-popup\"\r\n                v-model=\"show\"\r\n                position=\"bottom\"\r\n        >\r\n            <van-datetime-picker\r\n                    @cancel=\"toggleTimePopup(false)\"\r\n                    @confirm=\"onDatePickerConfirm\"\r\n                    :show-toolbar=\"true\"\r\n                    v-model=\"currentDate\"\r\n                    type=\"date\"\r\n            />\r\n        </van-popup>\r\n        <!--时间选择器end-->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {dateFormat, isBoolean} from \"../utils/helpers\";\r\n    import moment from 'moment'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                show: false,\r\n                startTime: '',\r\n                endTime: '',\r\n                currentDate: '',\r\n                currentKey: '',\r\n                tools: [\r\n                    {title: '昨天', value: 'lastday'},\r\n                    {title: '今天', value: 'today'},\r\n                    {title: '上周', value: 'lastweek'},\r\n                    {title: '本周', value: 'week'},\r\n                    {title: '上月', value: 'lastmonth'},\r\n                    {title: '本月', value: 'month'},\r\n                ]\r\n            }\r\n        },\r\n        created() {\r\n            const nowDate = dateFormat(null, 'Y-m-d')\r\n            this.startTime = nowDate;\r\n            this.endTime = nowDate;\r\n        },\r\n        methods: {\r\n            toggleTimePopup(show, key) {\r\n                show = isBoolean(show) ? show : !this.show;\r\n                if (show) {\r\n                    this.currentKey = key;\r\n                    this.currentDate = moment(this[key]).toDate() || new Date();\r\n                }\r\n                this.show = show;\r\n            },\r\n            onDatePickerConfirm(val) {\r\n                this[this.currentKey] = dateFormat(val, 'Y-m-d');\r\n                this.toggleTimePopup(false);\r\n            },\r\n            onPush() {\r\n                let name = this.$route.query.name;\r\n                let {startTime, endTime} = this;\r\n                this.$router.push({\r\n                    name,\r\n                    query: {startTime, endTime},\r\n                })\r\n            },\r\n            onToolbar(v) {\r\n                let startTime = '';\r\n                let endTime;\r\n                // 早7点~早6点 报表时间\r\n                let currentMoment = moment();\r\n                currentMoment.add(1, 'days');\r\n                const isToday = currentMoment.hours() <= 6;\r\n\r\n                if (v === 'today') {\r\n                    let offset = 1;\r\n                    if (isToday) {\r\n                        offset = 2;\r\n                    }\r\n                    startTime = moment().add(1 - offset, 'days').format('YYYY-MM-DD');\r\n                    endTime = moment().add(1 - offset, 'days').format('YYYY-MM-DD');\r\n                } else if (v === 'lastday') {\r\n                    let offset = 1;\r\n                    if (isToday) {\r\n                        offset = 2;\r\n                    }\r\n                    startTime = moment().add(0 - offset, 'days').format('YYYY-MM-DD');\r\n                    endTime = moment().add(0 - offset, 'days').format('YYYY-MM-DD');\r\n                } else if (v === 'week') {\r\n                    let offset = 1;\r\n                    if (isToday && currentMoment.weekday() === 1) {\r\n                        offset = 2;\r\n                    }\r\n                    startTime = moment().week(moment().week() - (1 - offset)).startOf('week').format('YYYY-MM-DD');   //这样是年月日的格式\r\n                    endTime = moment().week(moment().week() - (1 - offset)).endOf('week').format('YYYY-MM-DD'); //这样是时间戳的格式\r\n                } else if (v === 'lastweek') {\r\n                    let offset = 1;\r\n                    if (isToday && currentMoment.weekday() === 1) {\r\n                        offset = 2;\r\n                    }\r\n                    startTime = moment().week(moment().week() - offset).startOf('week').format('YYYY-MM-DD');   //这样是年月日的格式\r\n                    endTime = moment().week(moment().week() - offset).endOf('week').format('YYYY-MM-DD'); //这样是时间戳的格式\r\n\r\n                } else if (v === 'month') {\r\n                    let offset = 1;\r\n                    if (isToday && currentMoment.weekday() === 1) {\r\n                        offset = 2;\r\n                    }\r\n                    startTime = moment().month(moment().month() - (1 - offset)).startOf('month').format('YYYY-MM-DD');\r\n                    endTime = moment().month(moment().month() - (1 - offset)).endOf('month').format('YYYY-MM-DD');\r\n                } else if (v === 'lastmonth') {\r\n                    let offset = 1;\r\n                    if (isToday && currentMoment.weekday() === 1) {\r\n                        offset = 2;\r\n                    }\r\n                    startTime = moment().month(moment().month() - offset).startOf('month').format('YYYY-MM-DD');\r\n                    endTime = moment().month(moment().month() - offset).endOf('month').format('YYYY-MM-DD');\r\n                }\r\n                this.startTime = startTime\r\n                this.endTime = endTime\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .r-input-content {\r\n        min-height: 300px;\r\n        border: solid 1px #ccc;\r\n        margin: 20px;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReportInput.vue?vue&type=template&id=b7f8affa&scoped=true&\"\nimport script from \"./ReportInput.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReportInput.vue?vue&type=style&index=0&id=b7f8affa&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b7f8affa\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}